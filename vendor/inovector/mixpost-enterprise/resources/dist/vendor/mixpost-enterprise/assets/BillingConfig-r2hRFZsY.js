import{x as U,i as $,T as h,l as x,I as w,c as B,a as l,u as e,d as t,F as N,f as g,Z as C,b as u,g as r,t as s,h as d,p as S,q as j,j as m,m as I,w as L,A as q}from"./app-ByuBUqrL.js";import{_ as A}from"./Settings-CSNas1jR.js";import{_ as D}from"./Panel-BpEjWyUt.js";import{_ as E}from"./Select-B7eUkNrn.js";import{_}from"./Flex-DzNCiE-H.js";import{_ as p}from"./Radio-CErsXVSv.js";import{_ as c}from"./SectionBorder-DGvueGxm.js";import{_ as F}from"./Textarea-DD6LWbZU.js";import{_ as P}from"./InputLength-DG5q3XMn.js";import"./PageHeader-CN-6eb5e.js";import"./Tab-CNQ4ra-G.js";const T={value:"monthly_yearly"},M={value:"monthly"},O={value:"yearly"},le={__name:"BillingConfig",props:{configs:{type:Object},currencies:{required:!0,type:Array}},setup(f){const y=f,{t:n}=U(),b=$("routePrefix"),a=h(x.cloneDeep(y.configs)),{notify:V}=q(),k=()=>{a.put(route(`${b}.configs.billing.update`),{preserveScroll:!0,onSuccess:()=>{V("success",n("panel.billing_config_saved"))}})};return(Z,o)=>{const v=w("v-select");return g(),B(N,null,[l(e(C),{title:e(n)("panel.billing_settings")},null,8,["title"]),l(A,null,{default:t(()=>[u("form",{onSubmit:L(k,["prevent"])},[l(D,null,{title:t(()=>[r(s(e(n)("general.billing")),1)]),description:t(()=>[r(s(e(n)("panel.billing_settings_subscriptions")),1)]),default:t(()=>[l(d,null,{title:t(()=>[r(s(e(n)("finance.currency")),1)]),default:t(()=>[l(v,{modelValue:e(a).currency,"onUpdate:modelValue":o[0]||(o[0]=i=>e(a).currency=i),reduce:i=>i.key,options:f.currencies,"close-on-select":!0,clearable:!1,searchable:!0,class:"w-full"},null,8,["modelValue","reduce","options"])]),_:1}),l(d,{class:"mt-lg"},{title:t(()=>[r(s(e(n)("subscription.billing_cycle")),1)]),default:t(()=>[l(E,{modelValue:e(a).billing_cycle,"onUpdate:modelValue":o[1]||(o[1]=i=>e(a).billing_cycle=i)},{default:t(()=>[u("option",T,s(e(n)("panel.monthly_yearly")),1),u("option",M,s(e(n)("panel.monthly_only")),1),u("option",O,s(e(n)("panel.yearly_only")),1)]),_:1},8,["modelValue"])]),_:1}),l(c),l(d,null,{title:t(()=>[r(s(e(n)("panel.trial_days")),1)]),description:t(()=>[r(s(e(n)("panel.number_days_trial")),1)]),default:t(()=>[l(P,{modelValue:e(a).trial_days,"onUpdate:modelValue":o[2]||(o[2]=i=>e(a).trial_days=i),min:0,maxLimit:3},null,8,["modelValue"])]),_:1}),e(a).trial_days&&parseInt(e(a).trial_days)!==0?(g(),S(d,{key:0,class:"mt-lg"},{title:t(()=>[r(s(e(n)("panel.generic_trial")),1)]),description:t(()=>[r(s(e(n)("panel.trial_offer")),1)]),default:t(()=>[l(_,null,{default:t(()=>[u("label",null,[l(p,{checked:e(a).generic_trial,"onUpdate:checked":o[3]||(o[3]=i=>e(a).generic_trial=i),value:!0},null,8,["checked"]),r(" "+s(e(n)("general.yes")),1)]),u("label",null,[l(p,{checked:e(a).generic_trial,"onUpdate:checked":o[4]||(o[4]=i=>e(a).generic_trial=i),value:!1},null,8,["checked"]),r(" "+s(e(n)("general.no")),1)])]),_:1})]),_:1})):j("",!0),l(c),l(d,null,{title:t(()=>[r(s(e(n)("finance.prorate")),1)]),description:t(()=>[r(s(e(n)("finance.prorate_charges")),1)]),default:t(()=>[l(_,null,{default:t(()=>[u("label",null,[l(p,{checked:e(a).prorate,"onUpdate:checked":o[5]||(o[5]=i=>e(a).prorate=i),value:!0},null,8,["checked"]),r(" "+s(e(n)("general.yes")),1)]),u("label",null,[l(p,{checked:e(a).prorate,"onUpdate:checked":o[6]||(o[6]=i=>e(a).prorate=i),value:!1},null,8,["checked"]),r(" "+s(e(n)("general.no")),1)])]),_:1})]),_:1}),l(d,{class:"mt-lg"},{title:t(()=>[r(s(e(n)("finance.swap_invoice")),1)]),description:t(()=>[r(s(e(n)("finance.swap_plans_invoice_user")),1)]),default:t(()=>[l(_,null,{default:t(()=>[u("label",null,[l(p,{checked:e(a).bill_immediately,"onUpdate:checked":o[7]||(o[7]=i=>e(a).bill_immediately=i),value:!0},null,8,["checked"]),r(" "+s(e(n)("general.yes")),1)]),u("label",null,[l(p,{checked:e(a).bill_immediately,"onUpdate:checked":o[8]||(o[8]=i=>e(a).bill_immediately=i),value:!1},null,8,["checked"]),r(" "+s(e(n)("general.no")),1)])]),_:1})]),_:1}),l(c),l(d,null,{title:t(()=>[r(s(e(n)("finance.receipt_title")),1)]),default:t(()=>[l(m,{type:"text",modelValue:e(a).receipt_title,"onUpdate:modelValue":o[9]||(o[9]=i=>e(a).receipt_title=i),placeholder:e(n)("finance.receipt")},null,8,["modelValue","placeholder"])]),_:1}),l(d,{class:"mt-lg"},{title:t(()=>[r(s(e(n)("panel.company_details")),1)]),default:t(()=>[l(F,{modelValue:e(a).company_details,"onUpdate:modelValue":o[10]||(o[10]=i=>e(a).company_details=i)},null,8,["modelValue"])]),_:1}),l(c),l(d,{class:"mt-lg"},{title:t(()=>[r(s(e(n)("plan.plans_page_url")),1)]),default:t(()=>[l(m,{type:"text",modelValue:e(a).plans_page_url,"onUpdate:modelValue":o[11]||(o[11]=i=>e(a).plans_page_url=i),placeholder:"https://your-domain.com/pricing"},null,8,["modelValue"])]),_:1}),l(d,{class:"mt-lg"},{title:t(()=>[r(s(e(n)("plan.plans_page_url_title")),1)]),default:t(()=>[l(m,{type:"text",modelValue:e(a).plans_page_url_title,"onUpdate:modelValue":o[12]||(o[12]=i=>e(a).plans_page_url_title=i),placeholder:e(n)("general.learn_more")},null,8,["modelValue","placeholder"])]),_:1}),l(I,{disabled:e(a).processing,isLoading:e(a).processing,type:"submit",class:"mt-lg"},{default:t(()=>[r(s(e(n)("general.save")),1)]),_:1},8,["disabled","isLoading"])]),_:1})],32)]),_:1})],64)}}};export{le as default};
