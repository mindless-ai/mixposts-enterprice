import{x as V,i as S,T as N,r as p,c as j,a as t,u as e,b as i,w as B,d as s,p as g,q as k,_ as q,F,e as M,f as _,Z as O,g as n,t as l,h as w,j as P,k as T,n as U,m as v,s as z,A}from"./app-ByuBUqrL.js";import{_ as D}from"./Workspace-Bqe3NjqN.js";import{_ as x}from"./Panel-BpEjWyUt.js";import{_ as E}from"./ColorPicker-ntIR4VXn.js";import{_ as H}from"./PageHeader-CN-6eb5e.js";import{_ as I}from"./ClipboardCard-CY_vpR9U.js";import"./ArrowLeft-DJ_W9Jbv.js";import"./iro.es-DqG6q-J1.js";import"./Flex-DzNCiE-H.js";const Z={class:"w-ful"},G={for:"name"},J={class:"w-full"},K={class:"flex items-center mt-lg"},L=M({layout:D}),oe=Object.assign(L,{__name:"Settings",props:{workspace:{required:!0,type:Object}},setup(f){const{t:a}=V(),h=S("routePrefix"),{notify:$}=A(),m=f,r=N({name:m.workspace.name,hex_color:m.workspace.hex_color}),c=p(!1),d=p(m.workspace.hex_color),b=()=>{r.hex_color=d.value,c.value=!1},y=()=>{r.put(route(`${h}.workspace.settings.update`,{workspace:m.workspace.uuid}),{preserveScroll:!0,onSuccess:()=>{$("success",a("dashboard.settings_saved"))}})};return(C,o)=>(_(),j(F,null,[t(e(O),{title:e(a)("general.settings")},null,8,["title"]),t(H,{title:e(a)("general.settings"),"with-padding-x":!1},null,8,["title"]),i("div",Z,[i("form",{method:"post",onSubmit:B(y,["prevent"])},[t(x,null,{title:s(()=>[n(l(e(a)("general.details")),1)]),description:s(()=>[n(l(e(a)("general.basic_info_desc")),1)]),default:s(()=>[i("div",null,[t(w,null,{title:s(()=>[i("label",G,l(e(a)("general.name")),1)]),default:s(()=>[i("div",J,[t(P,{modelValue:e(r).name,"onUpdate:modelValue":o[0]||(o[0]=u=>e(r).name=u),type:"text",id:"name",placeholder:e(a)("workspace.workspace_name"),class:"w-full",autocomplete:"off",required:""},null,8,["modelValue","placeholder"]),t(T,{message:e(r).errors.name,class:"mt-1"},null,8,["message"])])]),_:1}),t(w,{class:"mt-lg"},{title:s(()=>[n(l(e(a)("theme.color")),1)]),default:s(()=>[i("div",{onClick:o[1]||(o[1]=u=>c.value=!0),style:U({background:e(r).hex_color}),role:"button",type:"button",class:"w-xl h-xl rounded-md"},null,4)]),_:1}),i("div",K,[t(v,{type:"submit",disabled:e(r).processing},{default:s(()=>[n(l(e(a)("general.save")),1)]),_:1},8,["disabled"])])])]),_:1})],32),C.$page.props.mixpost.features.api_access_tokens?(_(),g(x,{key:0,class:"mt-lg"},{title:s(()=>[n(l(e(a)("system.usage_api")),1)]),default:s(()=>[t(I,null,{default:s(()=>[n(l(f.workspace.uuid),1)]),_:1})]),_:1})):k("",!0)]),t(q,{show:c.value,"max-width":"md",onClose:o[4]||(o[4]=u=>c.value=!1)},{header:s(()=>[n(l(e(a)("workspace.change_workspace_color")),1)]),body:s(()=>[c.value?(_(),g(E,{key:0,modelValue:d.value,"onUpdate:modelValue":o[2]||(o[2]=u=>d.value=u)},null,8,["modelValue"])):k("",!0)]),footer:s(()=>[t(z,{onClick:o[3]||(o[3]=u=>c.value=!1),class:"mr-xs"},{default:s(()=>[n(l(e(a)("general.cancel")),1)]),_:1}),t(v,{onClick:b},{default:s(()=>[n(l(e(a)("general.done")),1)]),_:1})]),_:1},8,["show"])],64))}});export{oe as default};
