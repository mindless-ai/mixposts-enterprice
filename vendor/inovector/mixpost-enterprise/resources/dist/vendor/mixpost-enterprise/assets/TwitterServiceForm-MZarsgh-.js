import{G as b,f as $,c as P,b as o,x as B,i as p,B as I,r as S,p as T,d as t,a as s,h as u,g as n,k as f,j as L,t as m,u as d,m as N,z as g,cy as U,A as j}from"./app-ByuBUqrL.js";import{_ as A}from"./Panel-BpEjWyUt.js";import{_ as F,a as C}from"./InputHidden-CTuJyZQN.js";import{_ as E}from"./Select-B7eUkNrn.js";import{_ as H}from"./Checkbox-11AUS_iR.js";import{_ as M}from"./Flex-DzNCiE-H.js";import{_ as W}from"./Label-Dmpqa8aJ.js";import{_ as v}from"./LabelSuffix-9bL4Jy5O.js";import"./Eye-BezOvdnp.js";const X={},Z={class:"fill-current h-6 w-6",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"};function q(r,a){return $(),P("svg",Z,a[0]||(a[0]=[o("path",{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"},null,-1)]))}const z=b(X,[["render",q]]),D={class:"flex items-center"},G={class:"mr-xs"},K={for:"client_id"},O={for:"client_secret"},oe={__name:"TwitterServiceForm",props:{form:{required:!0,type:Object}},setup(r){const{t:a}=B(),w=p("routePrefix"),x=p("routeProPrefix"),k=r,{activeWorkspaceId:_}=I(),{notify:V}=j(),i=S({}),y=()=>{i.value={},g.put(route(`${w}.workspace.services.update`,{workspace:_.value,service:"twitter"}),k.form,{preserveScroll:!0,onSuccess(){V("success",a("service.service_saved",{service:"X"})),U().props.redirect_to_accounts&&setTimeout(()=>{g.visit(route(`${x}.accounts.index`,{workspace:_.value}))},500)},onError:c=>{i.value=c}})};return(c,e)=>($(),T(A,null,{title:t(()=>[o("div",D,[o("span",G,[s(z,{class:"text-twitter"})]),e[4]||(e[4]=o("span",null,"X",-1))])]),description:t(()=>[s(F,{href:c.$page.props.config.system.twitter_api_workspace_docs_url?c.$page.props.config.system.twitter_api_workspace_docs_url:`${c.$page.props.mixpost.docs_link}/services/social/x`,class:"mt-xs"},null,8,["href"])]),default:t(()=>[s(u,null,{title:t(()=>[o("label",K,[e[6]||(e[6]=n("API Key ")),s(v,{danger:""},{default:t(()=>e[5]||(e[5]=[n("*")])),_:1})])]),footer:t(()=>[s(f,{message:i.value["configuration.client_id"]},null,8,["message"])]),default:t(()=>[s(L,{modelValue:r.form.configuration.client_id,"onUpdate:modelValue":e[0]||(e[0]=l=>r.form.configuration.client_id=l),error:i.value["configuration.client_id"]!==void 0,type:"text",id:"client_id",autocomplete:"off"},null,8,["modelValue","error"])]),_:1}),s(u,{class:"mt-lg"},{title:t(()=>[o("label",O,[e[8]||(e[8]=n("API Secret ")),s(v,{danger:""},{default:t(()=>e[7]||(e[7]=[n("*")])),_:1})])]),footer:t(()=>[s(f,{message:i.value["configuration.client_secret"]},null,8,["message"])]),default:t(()=>[s(C,{modelValue:r.form.configuration.client_secret,"onUpdate:modelValue":e[1]||(e[1]=l=>r.form.configuration.client_secret=l),error:i.value["configuration.client_secret"]!==void 0,id:"client_secret",autocomplete:"new-password"},null,8,["modelValue","error"])]),_:1}),s(u,{class:"mt-lg"},{title:t(()=>e[9]||(e[9]=[o("label",{for:"tier"},"Tier",-1)])),footer:t(()=>[s(f,{message:i.value["configuration.tier"]},null,8,["message"])]),default:t(()=>[s(E,{modelValue:r.form.configuration.tier,"onUpdate:modelValue":e[2]||(e[2]=l=>r.form.configuration.tier=l),error:i.value["configuration.tier"]!==void 0,id:"tier"},{default:t(()=>e[10]||(e[10]=[o("option",{value:"legacy"},"Legacy",-1),o("option",{value:"free"},"Free",-1),o("option",{value:"basic"},"Basic",-1)])),_:1},8,["modelValue","error"])]),_:1}),s(u,{class:"mt-lg"},{title:t(()=>[n(m(d(a)("general.status")),1)]),footer:t(()=>[s(f,{message:i.value.active},null,8,["message"])]),default:t(()=>[s(M,{responsive:!1,class:"items-center"},{default:t(()=>[s(H,{checked:r.form.active,"onUpdate:checked":e[3]||(e[3]=l=>r.form.active=l),id:"active"},null,8,["checked"]),s(W,{for:"active",class:"!mb-0"},{default:t(()=>[n(m(d(a)("general.active")),1)]),_:1})]),_:1})]),_:1}),s(N,{onClick:y,class:"mt-lg"},{default:t(()=>[n(m(d(a)("general.save")),1)]),_:1})]),_:1}))}};export{oe as default};
